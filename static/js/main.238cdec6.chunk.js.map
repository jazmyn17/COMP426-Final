{"version":3,"sources":["index.js"],"names":["App","props","audio","Audio","audio1","audio2","audio3","audio4","audio5","background","$","get","level_counter","gameIsStarted","getFact","soundON","state","colors","sequence","userInput","level","isShowingSequence","isPlaying","gameStarted","gameOver","flash","showShareOptions","i","id","className","this","join","disabled","onClick","handleClick","x","Math","floor","random","CreateSequence","setState","playSequence","show","slice","flashColors","arr","a","timeout","ms","Promise","resolve","setTimeout","length","restartGame","play","guess","seq","guesses","gameIsOver","getRandomNumberFact","data","text","shareText","axios","method","url","withCredentials","body","status","class","src","frameborder","width","height","allowtransparency","renderColors","startGame","hidden","shareToTwitter","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.238cdec6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport $ from 'jquery';\r\nimport axios from 'axios';\r\nimport './index.css';\r\n\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            colors: [\"r\", \"g\", \"y\", \"b\", \"o\", \"p\"],\r\n            sequence: [], \r\n            userInput: [],\r\n            level: 1,\r\n            isShowingSequence: false,\r\n            isPlaying: false,\r\n            gameStarted: false,\r\n            gameOver: false,\r\n            flash: [\"\", \"\", \"\", \"\", \"\", \"\"],\r\n            showShareOptions: false\r\n        }\r\n    }\r\n    //API 1 (I think. If not I have more below)\r\n    audio = new Audio(\"http://d21c.com/juro777/wavs/telezapper1.wav\");\r\n    audio1 = new Audio(\"http://www.dewa.com/sound/select9.wav\");\r\n    audio2 = new Audio(\"http://www.simphonics.com/library/WaveFiles/Production%20Wavefiles/FS-98/mrsdahl.wav\");\r\n    audio3 = new Audio(\"http://www.chiptape.com/chiptape/sounds/short/cursor6.wav\");\r\n    audio4 = new Audio(\"http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav\");\r\n    audio5 = new Audio(\"http://www.science.smith.edu/dftwiki/images/4/4e/Sonar.wav\");\r\n\r\n    background = $.get(\"https://picsum.photos/200/300\");\r\n\r\n    level_counter = 1;\r\n    gameIsStarted = false;\r\n    getFact = true;\r\n    soundON = true;\r\n    //showShareOptions = false;\r\n\r\n    renderColors(i) {\r\n        return (\r\n          <button\r\n            id='colorButton'\r\n            className={[this.state.colors[i], this.state.flash[i]].join(\" \")}\r\n            disabled={this.state.isPlaying === false}\r\n            onClick={() => this.handleClick(i)}\r\n           />\r\n         );\r\n    }\r\n\r\n    CreateSequence() {\r\n        for(let i=0; i < 50; i++) {\r\n            var x = Math.floor(Math.random() * 6);\r\n            this.state.sequence[i] = x;\r\n        }\r\n    }\r\n\r\n    startGame() {\r\n        this.CreateSequence();\r\n        this.setState({gameStarted: true});\r\n        this.gameIsStarted = true;\r\n        this.playSequence();\r\n    }\r\n\r\n    playSequence() {\r\n        this.setState({userInput: []});\r\n        var show = this.state.sequence.slice(0,this.level_counter);\r\n        this.flashColors(show);\r\n    }\r\n\r\n    async flashColors(arr) {\r\n        const timeout = function(ms) {\r\n            return new Promise(resolve => setTimeout(resolve, ms));\r\n        }\r\n\r\n        for(var i = 0; i < arr.length; i++) {\r\n            if (this.gameIsStarted === false) {\r\n                //break;\r\n                this.restartGame();\r\n                break;\r\n            }\r\n            await timeout(500);\r\n            if (arr[i] === 0) {\r\n                if (this.soundON) {\r\n                    this.audio.play();\r\n                }\r\n                this.setState({flash: [\"active\",\"\",\"\",\"\",\"\",\"\"]});\r\n            } else if (arr[i] === 1) {\r\n                if (this.soundON) {\r\n                    this.audio1.play();\r\n                }\r\n                this.setState({flash: [\"\",\"active\",\"\",\"\",\"\",\"\"]});\r\n            } else if (arr[i] === 2) {\r\n                if (this.soundON) {\r\n                    this.audio2.play();\r\n                }\r\n                this.setState({flash: [\"\",\"\",\"active\",\"\",\"\",\"\"]});\r\n            } else if (arr[i] === 3) {\r\n                if (this.soundON) {\r\n                    this.audio3.play();\r\n                }\r\n                this.setState({flash: [\"\",\"\",\"\",\"active\",\"\",\"\"]});\r\n            } else if (arr[i] === 4) {\r\n                if (this.soundON) {\r\n                    this.audio4.play();\r\n                }\r\n                this.setState({flash: [\"\",\"\",\"\",\"\",\"active\",\"\"]});\r\n            } else {\r\n                if (this.soundON) {\r\n                    this.audio5.play();\r\n                }\r\n                this.setState({flash: [\"\",\"\",\"\",\"\",\"\",\"active\"]});\r\n            } \r\n            await timeout(500);\r\n            this.setState({flash: [\"\",\"\",\"\",\"\",\"\",\"\"]});\r\n        }\r\n        this.setState({isShowingSequence: false});\r\n        this.setState({isPlaying: true});\r\n    }\r\n\r\n    handleClick(guess) {\r\n        if (guess === 0) {\r\n            if (this.soundON) {\r\n                this.audio.play();\r\n            }\r\n        } else if (guess === 1) {\r\n            if (this.soundON) {\r\n                this.audio1.play();\r\n            }\r\n        } else if (guess === 2) {\r\n            if (this.soundON) {\r\n                this.audio2.play();\r\n            }\r\n        } else if (guess === 3) {\r\n            if (this.soundON) {\r\n                this.audio3.play();\r\n            }\r\n        } else if (guess === 4) {\r\n            if (this.soundON) {\r\n                this.audio4.play();\r\n            }\r\n        } else {\r\n            if (this.soundON) {\r\n                this.audio5.play();\r\n            }\r\n        } \r\n        var seq = this.state.sequence.slice(0,this.level_counter);\r\n        var guesses = [...this.state.userInput, guess];\r\n        this.setState({userInput: guesses});\r\n        for(var i = 0; i < guesses.length; i++) {\r\n            if (guesses[i] !== seq[i]) {\r\n                this.setState({gameOver: true});\r\n                this.gameIsOver();\r\n                return;\r\n            }\r\n            if (i  + 1 === guesses.length) {\r\n                if (guesses.length === seq.length) {\r\n                    this.setState({level: this.state.level + 1});\r\n                    this.level_counter++;\r\n                    this.setState({isShowingSequence: true});\r\n                    this.setState({isPlaying: false});\r\n                    this.playSequence();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    gameIsOver() {\r\n        this.setState({gameStarted: false});\r\n        this.setState({isPlaying: false});\r\n        this.gameIsStarted = false;\r\n        this.getRandomNumberFact();\r\n        this.setState({showShareOptions: true});\r\n    }\r\n\r\n    getRandomNumberFact() {\r\n        //API 2\r\n        if (this.getFact === true) {\r\n            $.get('http://numbersapi.com/' + this.state.level + '/trivia?notfound=floor&fragment', function(data) {\r\n            $('.randomNumberFact').text(data);\r\n            });\r\n            this.getFact = false;\r\n        }\r\n    }\r\n\r\n    async shareToTwitter() {\r\n        //API 3\r\n        var shareText = \"I made it to level \" + this.state.level + \" in Repeat After Me! See if you can beat me.\";\r\n        const result = await axios({\r\n            method: 'post',\r\n            url: 'https://comp426-1fa20.cs.unc.edu/a09/tweets',\r\n            withCredentials: true,\r\n            data: {\r\n              body: shareText\r\n            },\r\n        });\r\n        //this.restartGame();\r\n        this.setState({showShareOptions: false})\r\n    }\r\n\r\n    restartGame() {\r\n        this.setState({\r\n            colors: [\"r\", \"g\", \"y\", \"b\", \"o\", \"p\"],\r\n            sequence: [], \r\n            userInput: [],\r\n            level: 1,\r\n            isShowingSequence: false,\r\n            isPlaying: false,\r\n            gameStarted: false,\r\n            gameOver: false,\r\n            flash: [\"\", \"\", \"\", \"\", \"\", \"\"],\r\n            showShareOptions: false\r\n        });\r\n        this.level_counter = 1;\r\n        this.gameIsStarted = false;\r\n        this.getFact = true;\r\n        //this.showShareOptions = false;\r\n    }\r\n\r\n    render() {\r\n        let status;\r\n        if (this.state.gameOver === true) {\r\n            status = \"Game Over.\" //You made it to level \" + this.state.level + \" out of 50\"\r\n        } else {\r\n            status = 'Level ' + this.state.level;\r\n        }\r\n        let shareTweetText = \"I made it to level \" + this.state.level + \"! See if you can beat me.\";\r\n        return (\r\n            <div className=\"game\">\r\n                {/* API 4 */}\r\n                <iframe class=\"timeAndDate\" src=\"https://free.timeanddate.com/clock/i7smqhie/n179/fcfff/tct/pc000/tt0/tw0/tm1/tb4\" frameborder=\"0\" width=\"87\" height=\"34\" allowtransparency=\"true\"></iframe>\r\n                <h1 className=\"title\">{\"Repeat After Me\"}</h1>\r\n                <h2 className= \"instructions\">{\"Repeat the pattern that flashes!\"}</h2>\r\n                <h2 className=\"level\">{status}</h2>\r\n                <div className=\"game-board\">\r\n                    <div class=\"row\">\r\n                        {this.renderColors(0)}\r\n                        {this.renderColors(1)}\r\n                    </div>\r\n                    <div class=\"middle\">\r\n                        {this.renderColors(2)}\r\n                        {this.renderColors(3)}\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        {this.renderColors(4)}\r\n                        {this.renderColors(5)}\r\n                    </div>\r\n                </div>\r\n                <button \r\n                    className=\"start\" \r\n                    onClick= {() => this.startGame()}\r\n                    disabled={this.state.gameStarted === true || this.state.gameOver === true}>Start</button>\r\n                <button className=\"reset\" onClick= {() => this.restartGame()}>Reset</button>\r\n                <button className=\"sound\" onClick= {() => this.soundON = !this.soundON}>Sound</button>\r\n                <div class=\"factStart\" hidden={this.getFact}>{\"You made it to level \" + this.state.level + \". Fun Fact: This is the same number as \"} <span class=\"randomNumberFact\"></span></div>\r\n                <div class=\"shareResults\">\r\n                    <button className=\"share\" hidden={this.state.showShareOptions === false} onClick= {() => this.shareToTwitter()}>Share To Twitter</button>\r\n                    {/*<textarea class=\"textArea\" hidden={this.state.showShareOptions === false}>{shareTweetText}</textarea>*/}\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n\r\n}\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}