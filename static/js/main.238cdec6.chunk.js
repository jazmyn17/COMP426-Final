(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(t,e,s){"use strict";s.r(e);var a=s(19),i=s(2),n=s.n(i),r=s(6),o=s(15),c=s(16),h=s(21),u=s(20),l=s(3),d=s(17),m=s.n(d),p=s(4),v=s.n(p),f=s(18),w=s.n(f),S=(s(46),s(0)),b=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(o.a)(this,s),(a=e.call(this,t)).audio=new Audio("http://d21c.com/juro777/wavs/telezapper1.wav"),a.audio1=new Audio("http://www.dewa.com/sound/select9.wav"),a.audio2=new Audio("http://www.simphonics.com/library/WaveFiles/Production%20Wavefiles/FS-98/mrsdahl.wav"),a.audio3=new Audio("http://www.chiptape.com/chiptape/sounds/short/cursor6.wav"),a.audio4=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio5=new Audio("http://www.science.smith.edu/dftwiki/images/4/4e/Sonar.wav"),a.background=v.a.get("https://picsum.photos/200/300"),a.level_counter=1,a.gameIsStarted=!1,a.getFact=!0,a.soundON=!0,a.state={colors:["r","g","y","b","o","p"],sequence:[],userInput:[],level:1,isShowingSequence:!1,isPlaying:!1,gameStarted:!1,gameOver:!1,flash:["","","","","",""],showShareOptions:!1},a}return Object(c.a)(s,[{key:"renderColors",value:function(t){var e=this;return Object(S.jsx)("button",{id:"colorButton",className:[this.state.colors[t],this.state.flash[t]].join(" "),disabled:!1===this.state.isPlaying,onClick:function(){return e.handleClick(t)}})}},{key:"CreateSequence",value:function(){for(var t=0;t<50;t++){var e=Math.floor(6*Math.random());this.state.sequence[t]=e}}},{key:"startGame",value:function(){this.CreateSequence(),this.setState({gameStarted:!0}),this.gameIsStarted=!0,this.playSequence()}},{key:"playSequence",value:function(){this.setState({userInput:[]});var t=this.state.sequence.slice(0,this.level_counter);this.flashColors(t)}},{key:"flashColors",value:function(){var t=Object(r.a)(n.a.mark((function t(e){var s,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=function(t){return new Promise((function(e){return setTimeout(e,t)}))},a=0;case 2:if(!(a<e.length)){t.next=15;break}if(!1!==this.gameIsStarted){t.next=6;break}return this.restartGame(),t.abrupt("break",15);case 6:return t.next=8,s(500);case 8:return 0===e[a]?(this.soundON&&this.audio.play(),this.setState({flash:["active","","","","",""]})):1===e[a]?(this.soundON&&this.audio1.play(),this.setState({flash:["","active","","","",""]})):2===e[a]?(this.soundON&&this.audio2.play(),this.setState({flash:["","","active","","",""]})):3===e[a]?(this.soundON&&this.audio3.play(),this.setState({flash:["","","","active","",""]})):4===e[a]?(this.soundON&&this.audio4.play(),this.setState({flash:["","","","","active",""]})):(this.soundON&&this.audio5.play(),this.setState({flash:["","","","","","active"]})),t.next=11,s(500);case 11:this.setState({flash:["","","","","",""]});case 12:a++,t.next=2;break;case 15:this.setState({isShowingSequence:!1}),this.setState({isPlaying:!0});case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleClick",value:function(t){0===t?this.soundON&&this.audio.play():1===t?this.soundON&&this.audio1.play():2===t?this.soundON&&this.audio2.play():3===t?this.soundON&&this.audio3.play():4===t?this.soundON&&this.audio4.play():this.soundON&&this.audio5.play();var e=this.state.sequence.slice(0,this.level_counter),s=[].concat(Object(a.a)(this.state.userInput),[t]);this.setState({userInput:s});for(var i=0;i<s.length;i++){if(s[i]!==e[i])return this.setState({gameOver:!0}),void this.gameIsOver();i+1===s.length&&s.length===e.length&&(this.setState({level:this.state.level+1}),this.level_counter++,this.setState({isShowingSequence:!0}),this.setState({isPlaying:!1}),this.playSequence())}}},{key:"gameIsOver",value:function(){this.setState({gameStarted:!1}),this.setState({isPlaying:!1}),this.gameIsStarted=!1,this.getRandomNumberFact(),this.setState({showShareOptions:!0})}},{key:"getRandomNumberFact",value:function(){!0===this.getFact&&(v.a.get("http://numbersapi.com/"+this.state.level+"/trivia?notfound=floor&fragment",(function(t){v()(".randomNumberFact").text(t)})),this.getFact=!1)}},{key:"shareToTwitter",value:function(){var t=Object(r.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="I made it to level "+this.state.level+" in Repeat After Me! See if you can beat me.",t.next=3,w()({method:"post",url:"https://comp426-1fa20.cs.unc.edu/a09/tweets",withCredentials:!0,data:{body:e}});case 3:t.sent,this.setState({showShareOptions:!1});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"restartGame",value:function(){this.setState({colors:["r","g","y","b","o","p"],sequence:[],userInput:[],level:1,isShowingSequence:!1,isPlaying:!1,gameStarted:!1,gameOver:!1,flash:["","","","","",""],showShareOptions:!1}),this.level_counter=1,this.gameIsStarted=!1,this.getFact=!0}},{key:"render",value:function(){var t,e=this;t=!0===this.state.gameOver?"Game Over.":"Level "+this.state.level;this.state.level;return Object(S.jsxs)("div",{className:"game",children:[Object(S.jsx)("iframe",{class:"timeAndDate",src:"https://free.timeanddate.com/clock/i7smqhie/n179/fcfff/tct/pc000/tt0/tw0/tm1/tb4",frameborder:"0",width:"87",height:"34",allowtransparency:"true"}),Object(S.jsx)("h1",{className:"title",children:"Repeat After Me"}),Object(S.jsx)("h2",{className:"instructions",children:"Repeat the pattern that flashes!"}),Object(S.jsx)("h2",{className:"level",children:t}),Object(S.jsxs)("div",{className:"game-board",children:[Object(S.jsxs)("div",{class:"row",children:[this.renderColors(0),this.renderColors(1)]}),Object(S.jsxs)("div",{class:"middle",children:[this.renderColors(2),this.renderColors(3)]}),Object(S.jsxs)("div",{class:"row",children:[this.renderColors(4),this.renderColors(5)]})]}),Object(S.jsx)("button",{className:"start",onClick:function(){return e.startGame()},disabled:!0===this.state.gameStarted||!0===this.state.gameOver,children:"Start"}),Object(S.jsx)("button",{className:"reset",onClick:function(){return e.restartGame()},children:"Reset"}),Object(S.jsx)("button",{className:"sound",onClick:function(){return e.soundON=!e.soundON},children:"Sound"}),Object(S.jsxs)("div",{class:"factStart",hidden:this.getFact,children:["You made it to level "+this.state.level+". Fun Fact: This is the same number as "," ",Object(S.jsx)("span",{class:"randomNumberFact"})]}),Object(S.jsx)("div",{class:"shareResults",children:Object(S.jsx)("button",{className:"share",hidden:!1===this.state.showShareOptions,onClick:function(){return e.shareToTwitter()},children:"Share To Twitter"})})]})}}]),s}(l.Component);m.a.render(Object(S.jsx)(b,{}),document.getElementById("root"))},46:function(t,e,s){}},[[22,1,2]]]);
//# sourceMappingURL=main.238cdec6.chunk.js.map